(this["webpackJsonpmern-stack-client"]=this["webpackJsonpmern-stack-client"]||[]).push([[0],{109:function(e,t,a){e.exports=a(155)},154:function(e,t,a){},155:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),l=a.n(c),o=a(8),i=a(33),u=a(90),s=a(34),d="CREATE",p="UPDATE",m="DELETE",f=a(5),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{authData:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH":return localStorage.setItem("profile",JSON.stringify(Object(f.a)({},null===t||void 0===t?void 0:t.data))),Object(f.a)(Object(f.a)({},e),{},{authData:t.data,loading:!1,errors:null});case"LOGOUT":return localStorage.clear(),Object(f.a)(Object(f.a)({},e),{},{authData:null,loading:!1,errors:null});default:return e}},b=Object(i.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ALL":return t.payload;case"LIKE":return e.map((function(e){return e._id===t.payload._id?t.payload:e}));case d:return[].concat(Object(s.a)(e),[t.payload]);case"FIND_SALE":return Object(s.a)(t.payload);case p:return e.map((function(e){return e._id===t.payload._id?t.payload:e}));case m:return e.filter((function(e){return e._id!==t.payload}));default:return e}},auth:v,products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ALL":return t.payload;case d:return[].concat(Object(s.a)(e),[t.payload]);case"FIND_PRODUCT":return Object(s.a)(t.payload);case p:return e.map((function(e){return e._id===t.payload._id?t.payload:e}));case m:return e.filter((function(e){return e._id!==t.payload}));default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ALL":return t.payload;case d:return[].concat(Object(s.a)(e),[t.payload]);case p:return e.map((function(e){return e._id===t.payload._id?t.payload:e}));case m:return e.filter((function(e){return e._id!==t.payload}));default:return e}}}),g=a(201),h=a(22),E=a(15),y=a(18),O=a(205),j=a(197),x=a(6),C=a.n(x),I=a(10),w=a(91),S=a.n(w).a.create({baseURL:"https://app-sales-980472.herokuapp.com"});S.interceptors.request.use((function(e){return localStorage.getItem("profile")&&(e.headers.Authorization="Bearer ".concat(JSON.parse(localStorage.getItem("profile")).token)),e}));var N=function(e){return S.post("/posts/search",e)},k=function(e,t){return S.patch("/posts/".concat(e),t)},_=function(e){return S.delete("/posts/".concat(e))},D=function(e,t){return S.patch("/products/".concat(e),t)},P=function(e){return S.delete("/products/".concat(e))},T=function(e,t){return S.patch("/user/".concat(e),t)},z=function(e){return S.delete("/user/".concat(e))},L=function(e){return S.post("/user/signin",e)},F=function(e){return function(){var t=Object(I.a)(C.a.mark((function t(a){var n,r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c=e,S.post("/posts",c);case 3:n=t.sent,r=n.data,a({type:d,payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}var c}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},A=function(e){return function(){var t=Object(I.a)(C.a.mark((function t(a){var n,r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N(e);case 3:n=t.sent,r=n.data,a({type:"FIND_SALE",payload:r.searched}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},W=function(e,t){return function(){var a=Object(I.a)(C.a.mark((function a(n){var r,c;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,k(e,t);case 3:r=a.sent,c=r.data,n({type:p,payload:c}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},q=a(196),B=a(188),J=a(190),U=a(191),H=a(192),R=a(193),M=a(194),G=a(45),V=a.n(G),X=a(44),K=a.n(X),Q=a(43),Z=a.n(Q),Y=a(185),$=Object(Y.a)({media:{height:0,paddingTop:"56.25%",backgroundColor:"rgba(0, 0, 0, 0.5)",backgroundBlendMode:"darken"},border:{border:"solid"},fullHeightCard:{height:"100%"},card:{display:"flex",flexDirection:"column",justifyContent:"space-between",borderRadius:"15px",height:"100%",position:"relative"},overlay:{position:"absolute",top:"20px",left:"20px",color:"white"},overlay2:{position:"absolute",top:"20px",right:"20px",color:"white"},grid:{display:"flex"},details:{display:"flex",justifyContent:"space-between",margin:"20px"},title:{padding:"0 16px"},cardActions:{padding:"0 16px 8px 16px",display:"flex",justifyContent:"space-between"}}),ee=a(95),te=a.n(ee),ae=function(){return te.a.fire({title:"Success process!",icon:"success",confirmButtonText:"Cool"})},ne=function(e){var t,a,n,c,l,i,u=e.post,s=e.setCurrentId,d=Object(o.b)(),p=$(),f=JSON.parse(localStorage.getItem("profile"));return r.a.createElement(B.a,{className:p.card},r.a.createElement(J.a,{className:p.media,image:u.selectedFile||"https://user-images.githubusercontent.com/194400/49531010-48dad180-f8b1-11e8-8d89-1e61320e1d82.png",title:u.product}),r.a.createElement("div",{className:p.overlay},r.a.createElement(U.a,{variant:"h6"},u.name),r.a.createElement(U.a,{variant:"body2"},Z()(u.createdAt).fromNow())),((null===f||void 0===f||null===(t=f.result)||void 0===t?void 0:t.googleId)===(null===u||void 0===u?void 0:u.seller)||(null===f||void 0===f||null===(a=f.result)||void 0===a?void 0:a._id)===(null===u||void 0===u?void 0:u.seller)||"admin"===(null===f||void 0===f||null===(n=f.result)||void 0===n?void 0:n.role))&&r.a.createElement("div",{className:p.overlay2},r.a.createElement(H.a,{onClick:function(){return s(u._id)},style:{color:"white"},size:"small"},r.a.createElement(K.a,{fontSize:"default"}))),r.a.createElement(U.a,{className:p.title,gutterBottom:!0,variant:"h5",component:"h2"},"Product: ",u.product),r.a.createElement(R.a,null,r.a.createElement(U.a,{variant:"body2",color:"textSecondary",component:"p"},"Client: ",u.client),r.a.createElement(U.a,{variant:"body2",color:"textSecondary",component:"p"},"Client Document: ",u.docClient),r.a.createElement(U.a,{variant:"body2",color:"textSecondary",component:"p"},"Sale Identification: ",u.saleId),r.a.createElement(U.a,{variant:"body2",color:"textSecondary",component:"p"},"Total Price: ",u.totalPrice)),r.a.createElement(M.a,{className:p.cardActions},((null===f||void 0===f||null===(c=f.result)||void 0===c?void 0:c.googleId)===(null===u||void 0===u?void 0:u.seller)||(null===f||void 0===f||null===(l=f.result)||void 0===l?void 0:l._id)===(null===u||void 0===u?void 0:u.seller)||"admin"===(null===f||void 0===f||null===(i=f.result)||void 0===i?void 0:i.role))&&r.a.createElement(H.a,{size:"small",color:"secondary",onClick:function(){var e;d((e=u._id,function(){var t=Object(I.a)(C.a.mark((function t(a){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_(e);case 3:a({type:m,payload:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}())),ae()}},r.a.createElement(V.a,{fontSize:"small"})," Delete")))},re=a(54),ce=a(195),le=Object(Y.a)((function(e){var t;return t={mainContainer:{borderRadius:15,margin:"30px 0",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"10px 50px"},heading:{color:"rgba(0,183,255, 1)",textDecoration:"none"},image:{marginLeft:"15px"},toolbar:{display:"flex",justifyContent:"flex-end",width:"400px"},profile:{display:"flex",justifyContent:"space-between",width:"400px"},userName:{display:"flex",alignItems:"center"},brandContainer:{display:"flex",alignItems:"center"},smMargin:{margin:e.spacing(1)},purple:{color:e.palette.getContrastText(ce.a[500]),backgroundColor:ce.a[500]}},Object(re.a)(t,e.breakpoints.down("sm"),{appBar:{padding:"10px 20px"},heading:{display:"none"},userName:{display:"none"},image:{marginLeft:"5px"},toolbar:{display:"flex",justifyContent:"flex-end",width:"160px"}}),Object(re.a)(t,"actionDiv",{textAlign:"center"}),t})),oe=function(e){var t=e.setCurrentId,a=Object(o.c)((function(e){return e.posts})),n=le();return a.length?r.a.createElement(j.a,{className:n.container,container:!0,alignItems:"stretch",spacing:3},a.map((function(e){return r.a.createElement(j.a,{key:e._id,item:!0,xs:12,sm:6,md:6},r.a.createElement(ne,{post:e,setCurrentId:t}))}))):r.a.createElement(q.a,null)},ie=a(101),ue=a(206),se=a(46),de=a.n(se),pe=Object(Y.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1)}},paper:{padding:e.spacing(2)},form:{display:"flex",flexWrap:"wrap",justifyContent:"center"},fileInput:{width:"97%",margin:"10px 0"},buttonSubmit:{marginBottom:10}}})),me=function(e){var t,a=e.currentId,c=e.setCurrentId,l=Object(n.useState)({product:"",message:"",saleId:"",selectedFile:"",price:"",quantity:""}),i=Object(y.a)(l,2),u=i[0],s=i[1],d=Object(o.c)((function(e){return a?e.posts.find((function(e){return e._id===a})):null})),p=Object(o.b)(),m=pe(),v=JSON.parse(localStorage.getItem("profile"));Object(n.useEffect)((function(){d&&s(d)}),[d]);var b=function(){c(0),s({price:0,saleId:"",quantity:0,product:"",client:"",selectedFile:"",docClient:""})},g=function(){var e=Object(I.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),0===a?(p(F(Object(f.a)(Object(f.a)({},u),{},{name:null===v||void 0===v||null===(n=v.result)||void 0===n?void 0:n.name,totalPrice:u.price*u.quantity}))),b()):(p(W(a,Object(f.a)(Object(f.a)({},u),{},{totalPrice:u.price*u.quantity}))),b()),ae();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(null===v||void 0===v||null===(t=v.result)||void 0===t?void 0:t.name)?r.a.createElement(ie.a,{className:m.paper},r.a.createElement("form",{autoComplete:"off",className:"".concat(m.root," ").concat(m.form),onSubmit:g},r.a.createElement(U.a,{variant:"h6"},a?'Editing "'.concat(d.product,'"'):"Creating a Sale"),r.a.createElement(ue.a,{required:!0,name:"product",variant:"outlined",label:"Product",fullWidth:!0,value:u.product,onChange:function(e){return s(Object(f.a)(Object(f.a)({},u),{},{product:e.target.value}))}}),r.a.createElement(ue.a,{required:!0,name:"saleId",variant:"outlined",label:"Sale Identification",fullWidth:!0,value:u.saleId,disabled:!!a,onChange:function(e){return s(Object(f.a)(Object(f.a)({},u),{},{saleId:e.target.value}))}}),r.a.createElement(ue.a,{required:!0,type:"number",name:"price",variant:"outlined",label:"Price",fullWidth:!0,value:u.price,onChange:function(e){return s(Object(f.a)(Object(f.a)({},u),{},{price:e.target.value}))}}),r.a.createElement(ue.a,{required:!0,type:"number",name:"quantity",variant:"outlined",label:"Quantity",fullWidth:!0,value:u.quantity,onChange:function(e){return s(Object(f.a)(Object(f.a)({},u),{},{quantity:e.target.value}))}}),r.a.createElement(ue.a,{required:!0,name:"client",variant:"outlined",label:"Client",fullWidth:!0,value:u.client,onChange:function(e){return s(Object(f.a)(Object(f.a)({},u),{},{client:e.target.value}))}}),r.a.createElement(ue.a,{required:!0,name:"docClient",variant:"outlined",label:"Client Document",fullWidth:!0,value:u.docClient,onChange:function(e){return s(Object(f.a)(Object(f.a)({},u),{},{docClient:e.target.value}))}}),r.a.createElement("div",{className:m.fileInput},r.a.createElement(de.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;return s(Object(f.a)(Object(f.a)({},u),{},{selectedFile:t}))}})),r.a.createElement(H.a,{className:m.buttonSubmit,variant:"contained",color:"primary",size:"large",type:"submit",fullWidth:!0},"Submit"),r.a.createElement(H.a,{variant:"contained",color:"secondary",size:"small",onClick:b,fullWidth:!0},"Clear"))):r.a.createElement(E.a,{to:"/auth"})},fe=function(e){var t,a=e.currentId,c=(e.setCurrentId,Object(n.useState)({saleId:"",client:"",docClient:""})),l=Object(y.a)(c,2),i=l[0],u=l[1],s=Object(o.c)((function(e){return a?e.posts.find((function(e){return e._id===a})):null})),d=Object(o.b)(),p=pe(),m=JSON.parse(localStorage.getItem("profile"));Object(n.useEffect)((function(){s&&u(s)}),[s]);var v=function(){var e=Object(I.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),d(A(i));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(null===m||void 0===m||null===(t=m.result)||void 0===t?void 0:t.name)?r.a.createElement(ie.a,{style:{marginBottom:"20px"},className:p.paper},r.a.createElement("form",{autoComplete:"off",noValidate:!0,className:"".concat(p.root," ").concat(p.form),onSubmit:v},r.a.createElement(ue.a,{style:{width:"25%"},name:"saleId",variant:"outlined",label:"Sale Identification",value:i.saleId,disabled:a,onChange:function(e){return u(Object(f.a)(Object(f.a)({},i),{},{saleId:e.target.value}))}}),r.a.createElement(ue.a,{style:{width:"20%"},name:"client",variant:"outlined",label:"Client",value:i.client,onChange:function(e){return u(Object(f.a)(Object(f.a)({},i),{},{client:e.target.value}))}}),r.a.createElement(ue.a,{style:{width:"25%"},name:"docClient",variant:"outlined",label:"Client Document",value:i.docClient,onChange:function(e){return u(Object(f.a)(Object(f.a)({},i),{},{docClient:e.target.value}))}}),r.a.createElement(H.a,{className:p.buttonSubmit,variant:"contained",color:"primary",size:"large",type:"submit"},"Search"))):r.a.createElement(ie.a,{className:p.paper})},ve=function(){var e,t=Object(n.useState)(0),a=Object(y.a)(t,2),c=a[0],l=a[1],i=Object(o.b)(),u=JSON.parse(localStorage.getItem("profile"));return Object(n.useEffect)((function(){i(function(){var e=Object(I.a)(C.a.mark((function e(t){var a,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.get("/posts");case 3:a=e.sent,n=a.data,t({type:"FETCH_ALL",payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[c,i]),"authorized"!==(null===u||void 0===u||null===(e=u.result)||void 0===e?void 0:e.state)?r.a.createElement(E.a,{to:"/auth"}):r.a.createElement(O.a,{in:!0},r.a.createElement(g.a,null,r.a.createElement(j.a,{container:!0,justify:"space-between",alignItems:"stretch",spacing:3},r.a.createElement(j.a,{item:!0,xs:12,sm:7},r.a.createElement(fe,null),r.a.createElement(oe,{setCurrentId:l})),r.a.createElement(j.a,{item:!0,xs:12,sm:4},r.a.createElement(me,{currentId:c,setCurrentId:l})))))},be=a(202),ge=a(203),he=a(96),Ee=a(97),ye=a.n(Ee),Oe=Object(Y.a)((function(e){return{appBar:{borderRadius:15,margin:"30px 0",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"10px 50px"},heading:{color:"rgba(0,183,255, 1)",textDecoration:"none"},image:{marginLeft:"15px"},toolbar:{display:"flex",justifyContent:"flex-end",width:"400px"},profile:{display:"flex",justifyContent:"space-between",width:"400px"},userName:{display:"flex",alignItems:"center"},brandContainer:{display:"flex",alignItems:"center"},purple:{color:e.palette.getContrastText(ce.a[500]),backgroundColor:ce.a[500]}}})),je=function(){var e=Object(n.useState)(JSON.parse(localStorage.getItem("profile"))),t=Object(y.a)(e,2),a=t[0],c=t[1],l=Object(o.b)(),i=Object(E.h)(),u=Object(E.g)(),s=Oe(),d=function(){l({type:"LOGOUT"}),localStorage.clear(),u.push("/auth"),c(null)};return Object(n.useEffect)((function(){var e=null===a||void 0===a?void 0:a.token;e&&(1e3*Object(he.a)(e).exp<(new Date).getTime()&&d());c(JSON.parse(localStorage.getItem("profile")))}),[i]),r.a.createElement(be.a,{className:s.appBar,position:"static",color:"inherit"},r.a.createElement("div",{className:s.brandContainer},r.a.createElement(U.a,{component:h.b,to:"/sales",className:s.heading,variant:"h2",align:"center"},"Sales"),r.a.createElement("img",{className:s.image,src:ye.a,alt:"icon",height:"60"})),r.a.createElement(ge.a,{className:s.toolbar},"admin"===(null===a||void 0===a?void 0:a.result.role)?r.a.createElement("div",{className:s.profile},r.a.createElement(U.a,{className:s.userName,variant:"h6"},null===a||void 0===a?void 0:a.result.name),r.a.createElement(H.a,{component:h.b,to:"/products",variant:"contained",color:"primary"},"Products"),r.a.createElement(H.a,{style:{margin:"0 10px 0 10px"},component:h.b,to:"/users",variant:"contained",color:"primary"},"Users"),r.a.createElement(H.a,{variant:"contained",className:s.logout,color:"secondary",onClick:d},"Logout")):"authorized"===(null===a||void 0===a?void 0:a.result.state)?r.a.createElement(H.a,{variant:"contained",className:s.logout,color:"secondary",onClick:d},"Logout"):null))},xe=a(209),Ce=a(98),Ie=a(99),we=a.n(Ie),Se=function(){return r.a.createElement("svg",{style:{width:"20px",height:"20px"},viewBox:"0 0 24 24"},r.a.createElement("path",{fill:"currentColor",d:"M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12C5,7.9 8.2,4.73 12.2,4.73C15.29,4.73 17.1,6.7 17.1,6.7L19,4.72C19,4.72 16.56,2 12.1,2C6.42,2 2.03,6.8 2.03,12C2.03,17.05 6.16,22 12.25,22C17.6,22 21.5,18.33 21.5,12.91C21.5,11.76 21.35,11.1 21.35,11.1V11.1Z"}))},Ne=function(e,t){return function(){var a=Object(I.a)(C.a.mark((function a(n){var r,c;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,L(e);case 3:r=a.sent,c=r.data,n({type:"AUTH",data:c}),t.push("/sales"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},ke=Object(Y.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(2)},root:{"& .MuiTextField-root":{margin:e.spacing(1)}},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},googleButton:{marginBottom:e.spacing(2)}}})),_e=function(){var e=Object(o.b)(),t=Object(E.g)(),a=ke(),n=function(){var a=Object(I.a)(C.a.mark((function a(n){var r,c;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=null===n||void 0===n?void 0:n.profileObj,c=null===n||void 0===n?void 0:n.tokenId,console.log(n.profileObj);try{e(Ne({result:r,token:c},t)),t.push("/sales")}catch(l){console.log(l)}case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement(g.a,{component:"main",maxWidth:"xs"},r.a.createElement(ie.a,{className:a.paper,elevation:3},r.a.createElement(xe.a,{className:a.avatar},r.a.createElement(we.a,null)),r.a.createElement(U.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:a.form},r.a.createElement(Ce.GoogleLogin,{clientId:"66986515561-sms32507rr5l7i46meb1r5brglpcinpd.apps.googleusercontent.com",render:function(e){return r.a.createElement(H.a,{className:a.googleButton,color:"primary",fullWidth:!0,onClick:e.onClick,disabled:e.disabled,startIcon:r.a.createElement(Se,null),variant:"contained"},"Google Sign In")},onSuccess:n,onFailure:function(){return alert("Google Sign In was unsuccessful. Try again later")},cookiePolicy:"single_host_origin"}))))},De=function(e){return function(){var t=Object(I.a)(C.a.mark((function t(a){var n,r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c=e,S.post("/products",c);case 3:n=t.sent,r=n.data,a({type:d,payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}var c}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},Pe=function(e){return function(){var t=Object(I.a)(C.a.mark((function t(a){var n,r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c=e,S.post("/products/search",c);case 3:n=t.sent,r=n.data,a({type:"FIND_PRODUCT",payload:r.searched}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}var c}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},Te=function(e,t){return function(){var a=Object(I.a)(C.a.mark((function a(n){var r,c;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,D(e,t);case 3:r=a.sent,c=r.data,n({type:p,payload:c}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},ze=function(e){var t=e.post,a=e.setCurrentId,n=Object(o.b)(),c=$();return r.a.createElement(B.a,{className:c.card},r.a.createElement(J.a,{className:c.media,image:t.selectedFile||"https://user-images.githubusercontent.com/194400/49531010-48dad180-f8b1-11e8-8d89-1e61320e1d82.png",title:t.nameProduct}),r.a.createElement("div",{className:c.overlay},r.a.createElement(U.a,{variant:"h6"},t.nameProduct),r.a.createElement(U.a,{variant:"body2"},Z()(t.createdAt).fromNow())),r.a.createElement("div",{className:c.overlay2},r.a.createElement(H.a,{onClick:function(){return a(t._id)},style:{color:"white"},size:"small"},r.a.createElement(K.a,{fontSize:"default"}))),r.a.createElement(U.a,{className:c.title,gutterBottom:!0,variant:"h5",component:"h2"},t.state),r.a.createElement(R.a,null,r.a.createElement(U.a,{variant:"body2",color:"textSecondary",component:"p"},"Product identificator: ",t.productId),r.a.createElement(U.a,{variant:"body2",color:"textSecondary",component:"p"},"Description: ",t.description),r.a.createElement(U.a,{variant:"body2",color:"textSecondary",component:"p"},"Price: ",t.price)),r.a.createElement(M.a,{className:c.cardActions},r.a.createElement(H.a,{size:"small",color:"secondary",onClick:function(){return n((e=t._id,function(){var t=Object(I.a)(C.a.mark((function t(a){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P(e);case 3:a({type:m,payload:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()));var e}},r.a.createElement(V.a,{fontSize:"small"})," Delete")))},Le=function(e){var t=e.setCurrentId,a=Object(o.c)((function(e){return e.products})),n=le();return a.length?r.a.createElement(j.a,{className:n.container,container:!0,alignItems:"stretch",spacing:3},a.map((function(e){return r.a.createElement(j.a,{key:e._id,item:!0,xs:12,sm:6,md:6},r.a.createElement(ze,{post:e,setCurrentId:t}))}))):r.a.createElement(q.a,null)},Fe=a(200),Ae=a(208),We=a(204),qe=a(210),Be=function(e){var t,a=e.currentId,c=e.setCurrentId,l=Object(n.useState)({nameProduct:"",productId:"",description:"",selectedFile:"",price:"",state:""}),i=Object(y.a)(l,2),u=i[0],s=i[1],d=Object(o.c)((function(e){return a?e.products.find((function(e){return e._id===a})):null})),p=Object(o.b)(),m=pe(),v=JSON.parse(localStorage.getItem("profile"));Object(n.useEffect)((function(){d&&s(d)}),[d]);var b=function(){c(0),s({nameProduct:"",productId:"",description:"",selectedFile:"",price:0,state:""})},g=function(){var e=Object(I.a)(C.a.mark((function e(t){var n,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),0===a?(p(De(Object(f.a)(Object(f.a)({},u),{},{name:null===v||void 0===v||null===(n=v.result)||void 0===n?void 0:n.name}))),b()):(p(Te(a,Object(f.a)(Object(f.a)({},u),{},{name:null===v||void 0===v||null===(r=v.result)||void 0===r?void 0:r.name}))),b()),ae();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(null===v||void 0===v||null===(t=v.result)||void 0===t?void 0:t.name)?r.a.createElement(ie.a,{className:m.paper},r.a.createElement("form",{autoComplete:"off",className:"".concat(m.root," ").concat(m.form),onSubmit:g},r.a.createElement(U.a,{variant:"h6"},a?'Editing "'.concat(d.nameProduct,'"'):"Creating a Product"),r.a.createElement(ue.a,{required:!0,name:"nameProduct",variant:"outlined",label:"Product Name",fullWidth:!0,value:u.nameProduct,onChange:function(e){return s(Object(f.a)(Object(f.a)({},u),{},{nameProduct:e.target.value}))}}),r.a.createElement(ue.a,{required:!0,name:"productId",variant:"outlined",label:"Product Identification",fullWidth:!0,value:u.productId,disabled:!!a,onChange:function(e){return s(Object(f.a)(Object(f.a)({},u),{},{productId:e.target.value}))}}),r.a.createElement(ue.a,{required:!0,type:"number",name:"price",variant:"outlined",label:"Price",fullWidth:!0,value:u.price,onChange:function(e){return s(Object(f.a)(Object(f.a)({},u),{},{price:e.target.value}))}}),r.a.createElement(ue.a,{required:!0,name:"description",variant:"outlined",label:"Description",fullWidth:!0,value:u.description,onChange:function(e){return s(Object(f.a)(Object(f.a)({},u),{},{description:e.target.value}))}}),r.a.createElement(Fe.a,{required:!0,fullWidth:!0},r.a.createElement(Ae.a,{id:"state-label"},"State"),r.a.createElement(We.a,{labelId:"state-label",value:u.state,name:"state",label:"State",variant:"outlined",onChange:function(e){return s(Object(f.a)(Object(f.a)({},u),{},{state:e.target.value}))}},r.a.createElement(qe.a,{value:"available"},"Available"),r.a.createElement(qe.a,{value:"unavailable"},"Unavailable"))),r.a.createElement("div",{className:m.fileInput},r.a.createElement(de.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;return s(Object(f.a)(Object(f.a)({},u),{},{selectedFile:t}))}})),r.a.createElement(H.a,{className:m.buttonSubmit,variant:"contained",color:"primary",size:"large",type:"submit",fullWidth:!0},"Submit"),r.a.createElement(H.a,{variant:"contained",color:"secondary",size:"small",onClick:b,fullWidth:!0},"Clear"))):r.a.createElement(E.a,{to:"/auth"})},Je=function(e){var t,a=e.currentId,c=(e.setCurrentId,Object(n.useState)({productId:"",description:""})),l=Object(y.a)(c,2),i=l[0],u=l[1],s=Object(o.c)((function(e){return a?e.posts.find((function(e){return e._id===a})):null})),d=Object(o.b)(),p=pe(),m=JSON.parse(localStorage.getItem("profile"));Object(n.useEffect)((function(){s&&u(s)}),[s]);var v=function(){var e=Object(I.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),d(Pe(i));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(null===m||void 0===m||null===(t=m.result)||void 0===t?void 0:t.name)?r.a.createElement(ie.a,{style:{marginBottom:"20px"},className:p.paper},r.a.createElement("form",{autoComplete:"off",noValidate:!0,className:"".concat(p.root," ").concat(p.form),onSubmit:v},r.a.createElement(ue.a,{style:{width:"30%"},name:"productId",variant:"outlined",label:"Product Identification",value:i.productId,disabled:a,onChange:function(e){return u(Object(f.a)(Object(f.a)({},i),{},{productId:e.target.value}))}}),r.a.createElement(ue.a,{style:{width:"30%"},name:"description",variant:"outlined",label:"Description",value:i.description,onChange:function(e){return u(Object(f.a)(Object(f.a)({},i),{},{description:e.target.value}))}}),r.a.createElement(H.a,{className:p.buttonSubmit,variant:"contained",color:"primary",size:"large",type:"submit"},"Search"))):r.a.createElement(ie.a,{className:p.paper})},Ue=function(){var e,t=Object(n.useState)(0),a=Object(y.a)(t,2),c=a[0],l=a[1],i=Object(o.b)(),u=JSON.parse(localStorage.getItem("profile"));return Object(n.useEffect)((function(){i(function(){var e=Object(I.a)(C.a.mark((function e(t){var a,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.get("/products");case 3:a=e.sent,n=a.data,t({type:"FETCH_ALL",payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[c,i]),"admin"!==(null===u||void 0===u||null===(e=u.result)||void 0===e?void 0:e.role)?r.a.createElement(E.a,{to:"/sales"}):r.a.createElement(O.a,{in:!0},r.a.createElement(g.a,null,r.a.createElement(j.a,{container:!0,justify:"space-between",alignItems:"stretch",spacing:3},r.a.createElement(j.a,{item:!0,xs:12,sm:7},r.a.createElement(Je,null),r.a.createElement(Le,{setCurrentId:l})),r.a.createElement(j.a,{item:!0,xs:12,sm:4},r.a.createElement(Be,{currentId:c,setCurrentId:l})))))},He=function(e){return function(){var t=Object(I.a)(C.a.mark((function t(a){var n,r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c=e,S.post("/user",c);case 3:n=t.sent,r=n.data,a({type:d,payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}var c}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},Re=function(e,t){return function(){var a=Object(I.a)(C.a.mark((function a(n){var r,c;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,T(e,t);case 3:r=a.sent,c=r.data,n({type:p,payload:c}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},Me=function(e){var t=e.post,a=e.setCurrentId,n=Object(o.b)(),c=$();return r.a.createElement(B.a,{className:c.card},r.a.createElement(J.a,{className:c.media,image:t.selectedFile||"https://user-images.githubusercontent.com/194400/49531010-48dad180-f8b1-11e8-8d89-1e61320e1d82.png",title:t.name}),r.a.createElement("div",{className:c.overlay},r.a.createElement(U.a,{variant:"h6"},t.name),r.a.createElement(U.a,{variant:"body2"},Z()(t.createdAt).fromNow())),r.a.createElement("div",{className:c.overlay2},r.a.createElement(H.a,{onClick:function(){return a(t._id)},style:{color:"white"},size:"small"},r.a.createElement(K.a,{fontSize:"default"}))),r.a.createElement(U.a,{className:c.title,gutterBottom:!0,variant:"h5",component:"h2"},t.role),r.a.createElement(R.a,null,r.a.createElement(U.a,{variant:"body2",color:"textSecondary",component:"p"},"Email: ",t.email),r.a.createElement(U.a,{variant:"body2",color:"textSecondary",component:"p"},"State: ",t.state)),r.a.createElement(M.a,{className:c.cardActions},r.a.createElement(H.a,{size:"small",color:"secondary",onClick:function(){return n((e=t._id,function(){var t=Object(I.a)(C.a.mark((function t(a){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z(e);case 3:a({type:m,payload:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()));var e}},r.a.createElement(V.a,{fontSize:"small"})," Delete")))},Ge=function(e){var t=e.setCurrentId,a=Object(o.c)((function(e){return e.users})),n=le();return a.length?r.a.createElement(j.a,{className:n.container,container:!0,alignItems:"stretch",spacing:3},a.map((function(e){return r.a.createElement(j.a,{key:e._id,item:!0,xs:12,sm:6,md:6},r.a.createElement(Me,{post:e,setCurrentId:t}))}))):r.a.createElement(q.a,null)},Ve=function(e){var t,a=e.currentId,c=e.setCurrentId,l=Object(n.useState)({name:"",role:"",state:"",selectedFile:""}),i=Object(y.a)(l,2),u=i[0],s=i[1],d=Object(o.c)((function(e){return a?e.users.find((function(e){return e._id===a})):null})),p=Object(o.b)(),m=pe(),v=JSON.parse(localStorage.getItem("profile"));Object(n.useEffect)((function(){d&&s(d)}),[d]);var b=function(){c(0),s({name:"",role:"",state:"",selectedFile:""})},g=function(){var e=Object(I.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),0===a?(p(He(Object(f.a)(Object(f.a)({},u),{},{name:null===v||void 0===v||null===(n=v.result)||void 0===n?void 0:n.name}))),b()):(p(Re(a,Object(f.a)({},u))),b()),ae();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(null===v||void 0===v||null===(t=v.result)||void 0===t?void 0:t.name)?r.a.createElement(ie.a,{className:m.paper},r.a.createElement("form",{autoComplete:"off",className:"".concat(m.root," ").concat(m.form),onSubmit:g},r.a.createElement(U.a,{variant:"h6"},a?'Editing "'.concat(d.name,'"'):"Choose a User"),r.a.createElement(ue.a,{required:!0,name:"name",variant:"outlined",disabled:!0,label:"Name",fullWidth:!0,value:u.name,onChange:function(e){return s(Object(f.a)(Object(f.a)({},u),{},{name:e.target.value}))}}),r.a.createElement(Fe.a,{style:{margin:"0 0 10px 0"},disabled:!d,required:!0,fullWidth:!0},r.a.createElement(Ae.a,{id:"role-label"},"Role"),r.a.createElement(We.a,{labelId:"role-label",value:u.role,name:"role",label:"Role",variant:"outlined",onChange:function(e){return s(Object(f.a)(Object(f.a)({},u),{},{role:e.target.value}))}},r.a.createElement(qe.a,{value:"admin"},"Admin"),r.a.createElement(qe.a,{value:"seller"},"Seller"))),r.a.createElement(Fe.a,{disabled:!d,required:!0,fullWidth:!0},r.a.createElement(Ae.a,{id:"state-label"},"State"),r.a.createElement(We.a,{labelId:"state-label",value:u.state,name:"state",label:"State",variant:"outlined",onChange:function(e){return s(Object(f.a)(Object(f.a)({},u),{},{state:e.target.value}))}},r.a.createElement(qe.a,{value:"pending"},"Pending"),r.a.createElement(qe.a,{value:"authorized"},"Authorized"),r.a.createElement(qe.a,{value:"unauthorized"},"Unauthorized"))),r.a.createElement("div",{className:m.fileInput},r.a.createElement(de.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;return s(Object(f.a)(Object(f.a)({},u),{},{selectedFile:t}))}})),r.a.createElement(H.a,{className:m.buttonSubmit,variant:"contained",color:"primary",size:"large",type:"submit",fullWidth:!0},"Submit"),r.a.createElement(H.a,{variant:"contained",color:"secondary",size:"small",onClick:b,fullWidth:!0},"Clear"))):r.a.createElement(E.a,{to:"/auth"})},Xe=function(){var e,t=Object(n.useState)(0),a=Object(y.a)(t,2),c=a[0],l=a[1],i=Object(o.b)(),u=JSON.parse(localStorage.getItem("profile"));return Object(n.useEffect)((function(){i(function(){var e=Object(I.a)(C.a.mark((function e(t){var a,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.get("/user");case 3:a=e.sent,n=a.data,t({type:"FETCH_ALL",payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[c,i]),"admin"!==(null===u||void 0===u||null===(e=u.result)||void 0===e?void 0:e.role)?r.a.createElement(E.a,{to:"/sales"}):r.a.createElement(O.a,{in:!0},r.a.createElement(g.a,null,r.a.createElement(j.a,{container:!0,justify:"space-between",alignItems:"stretch",spacing:3},r.a.createElement(j.a,{item:!0,xs:12,sm:7},r.a.createElement(Ge,{setCurrentId:l})),r.a.createElement(j.a,{item:!0,xs:12,sm:4},r.a.createElement(Ve,{currentId:c,setCurrentId:l})))))},Ke=function(){return r.a.createElement(h.a,null,r.a.createElement(g.a,{maxWidth:"lg"},r.a.createElement(je,null),r.a.createElement(E.d,null,r.a.createElement(E.b,{path:"/auth",exact:!0,component:_e}),r.a.createElement(E.b,{path:"/sales",exact:!0,component:ve}),r.a.createElement(E.b,{path:"/products",exact:!0,component:Ue}),r.a.createElement(E.b,{path:"/users",exact:!0,component:Xe}),r.a.createElement(E.a,{to:"/sales"}))))},Qe=(a(154),"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d),Ze=Object(i.e)(b,Qe(Object(i.a)(u.a)));l.a.render(r.a.createElement(o.a,{store:Ze},r.a.createElement(Ke,null)),document.getElementById("root"))},97:function(e,t,a){e.exports=a.p+"static/media/memories.5c0c63fb.png"}},[[109,1,2]]]);
//# sourceMappingURL=main.792d5f68.chunk.js.map